(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["userset"],{c5d8:function(e,t,s){"use strict";s("ffae")},e137:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("head-top"),e._m(0),s("div",{staticClass:"admin_set"},[s("ul",[s("li",[s("span",[e._v("昵称：")]),s("span",[e._v(e._s(e.Caffeineusername))])]),s("li",[s("span",[e._v("ID：")]),s("span",[e._v(e._s(e.Caffeineuserid))])]),s("li",[s("el-button",{attrs:{type:"primary"},on:{click:e.revisepassword}},[e._v("修改密码")]),s("el-button",{attrs:{type:"primary"},on:{click:e.revisename}},[e._v("修改昵称")]),s("el-button",{attrs:{type:"primary"},on:{click:e.deletepeople}},[e._v("注销账户")])],1)])])],1)},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"data_section"},[s("header",{staticClass:"section_title"},[e._v("个人信息")])])}],i=s("b9b3"),o={data:function(){return{Caffeineusername:"",Caffeineuserid:""}},components:{headTop:i["a"]},mounted:function(){var e=this;this.Caffeineuserid=sessionStorage.getItem("loginid"),this.$axios.post("People/getNameById/"+sessionStorage.getItem("loginid")).then((function(t){e.Caffeineusername=t.data}))},methods:{revisepassword:function(){var e=this;this.$prompt("请输入修改的密码","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[a-zA-Z0-9]{1,10}$/,inputErrorMessage:"密码格式不正确"}).then((function(t){var s=t.value;e.$axios.post("People/updatePasswordById?id="+sessionStorage.getItem("loginid")+"&password="+s).then((function(){e.$message({type:"success",message:"密码更改成功"})}))})).catch((function(){e.$message({type:"info",message:"取消更改"})}))},revisename:function(){var e=this;this.$prompt("请输入修改的昵称","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[\u4E00-\u9FA5A-Za-z0-9]{2,20}$/,inputErrorMessage:"昵称格式不正确"}).then((function(t){var s=t.value;e.$axios.post("People/updateNameById?id="+sessionStorage.getItem("loginid")+"&name="+s).then((function(t){!1!==t.data?(sessionStorage.setItem("loginid",""),e.$message({type:"success",message:"昵称更改成功，请重新登录"}),e.$router.push("/")):e.$message({type:"error",message:"昵称更改失败，昵称已被他人注册"})}))})).catch((function(){e.$message({type:"info",message:"取消更改"})}))},deletepeople:function(){var e=this;this.$confirm("删除后您的账号将不会被保留 其它信息也将会被删除","确定删除账户码？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$axios.post("People/deletePeopleById?id="+sessionStorage.getItem("loginid")).then((function(){sessionStorage.setItem("loginid",""),e.$message({type:"success",message:"删除成功"}),e.$router.push("/")}),(function(){e.$message({type:"error",message:"删除错误"})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}}},r=o,c=(s("c5d8"),s("2877")),u=Object(c["a"])(r,n,a,!1,null,null,null);t["default"]=u.exports},ffae:function(e,t,s){}}]);
//# sourceMappingURL=userset.428686e0.js.map